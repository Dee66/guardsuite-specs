--- products/playground/metadata/product.yml.orig+++ products/playground/metadata/product.yml@@ -1,91 +1,181 @@ id: playground
 name: GuardSuite Playground
-product_type: core
-pillar: crosscut
-product_version: "2.1.0"
+owner: ''
+version: ''
 status: production
-spec_version: "2026.04"
-stability_level: ga
-
-short_description: >
-  Browser-based deterministic evaluator and GuardScore preview environment,
-  executed entirely inside a WASM sandbox with canonical GuardSuite pipelines.
-
-long_description: |
-  GuardSuite Playground is the browser-executed evaluator sandbox for demos,
-  documentation, AI walkthroughs, and GuardScore previews. All evaluations run
-  under WASI-constrained WASM with fixed_64 numeric handling, timestamp
-  normalization, deterministic snapshot rules, and canonical JSON output.
-  Playground mirrors the authoritative evaluator pipeline, ensuring
-  cross-runtime parity with Python, WASM, and native-ABI environments.
-  It provides badge previews, GuardScore inputs, shareable URLs, deterministic
-  sample plans, and exportable canonical bundles for GuardBoard and Architect.
-
-purpose_summary: >
-  Provide a zero-install, WASM-safe deterministic evaluator for demos,
-  documentation flows, customer onboarding, and AI-powered product education.
-
-provenance_required: false   # (Playground does not enforce full provenance)
-
-metadata:
-  created: "2025-11-18"
-  updated: "2026-03-10"
-  owner: "GuardSuite Platform Team"
-  maintainers:
-    - name: "Deon Prinsloo"
-      role: "AI Solutions Architect"
-      contact: "deon@shieldcraft-ai.com"
-  funnel_stage: top_of_funnel
-  pricing_reference: "pricing/guardsuite_pricing.yml"
-  ux_goals:
-    - deterministic outputs
-    - zero-install onboarding
-    - exportable badge-ready JSON
-    - GuardScore preview compatibility
-
-# ============================================================
-# GOVERNANCE
-# ============================================================
-governance:
-  changelog_required: true
-  codeowners_required: true
-  rfc_required_for_major: true
-  template_sync_required: true
-  cross_pillar_invariants: true
-  breaking_change_policy: >
-    Any evaluator pipeline modification, schema change, WASM sandbox rule
-    change, UI-export contract change, or deterministic-hash modification
-    requires:
-      - RFC approval
-      - guardsuite-core parity verification
-      - template/evaluator parity verification
-      - GuardBoard compatibility validation
-      - updated Playground documentation & sample plans
-
-# ============================================================
-# ARCHITECTURE
-# ============================================================
-architecture:
-  core_dependency_id: "guardsuite-core@>=2.3.0"
-  evaluator_dependency_id: "guardsuite-template@>=2.3.0"
-  wasm_runtime: "wasi_snapshot_preview1"
-  schema_source: "schemas/playground/playground.schema.yml"
-  output_contract: "sandbox"
-
-  required_interfaces:
+spec_yaml: ''
+checklist_yaml: ''
+gpt_instructions_yaml: ''
+x_legacy:
+  api:
+    rest_endpoint: https://playground.shieldcraft-ai.com/api
+    auth: GuardSuite session token
+    deterministic_responses_required: true
+    rate_limits:
+      max_request_bytes: 2000000
+      timeout_ms: 3000
+  api_readonly_guarantee:
+    read_only: true
+    forbids:
+    - write_operations
+    - destructive_actions
+    - stateful_session_modification
+    allowed:
+    - evaluate
+    - preview_badge
+    - export_bundle
+  architecture:
+    core_dependency_id: guardsuite-core@>=2.3.0
+    evaluator_dependency_id: guardsuite-template@>=2.3.0
+    wasm_runtime: wasi_snapshot_preview1
+    schema_source: schemas/playground/playground.schema.yml
+    output_contract: sandbox
+    required_interfaces:
     - I_PlaygroundRuntime
     - I_CanonicalEvaluator
     - I_GuardSuiteAPI
     - I_BadgePreview
     - I_SamplePlanLoader
-
-  override_exclusion:
+    override_exclusion:
     - canonical.output_contract
     - evaluator.runtime_override
     - wasm_runtime_safety
     - quickscore_mode_mutation
-
-principles:
+  ecosystem_integrations:
+    guardscore:
+      pillar_weight: 0.2
+      severity_penalties:
+        critical: 40
+        high: 25
+        medium: 10
+        low: 2
+      provided_score_inputs:
+      - badge_preview_score
+      - sample_plan_issue_counts
+      - remediation_hint_count
+      badge_eligibility_signal: true
+    playground_self:
+      wasm_safe: true
+      json_sanitize: true
+      svg_sanitize: true
+      quick_score_mode: true
+      max_runtime_ms: 900
+      playground_latency_target_ms: 750
+    guardboard:
+      badge_preview_supported: true
+      exposes_fixpack_hints: true
+      shows_compliance_ledger: false
+  evaluator_pipeline_stages:
+    source_of_truth: guardsuite-core
+    enforce_stage_ordering: true
+    required_stages:
+    - load_profile
+    - initialize_context
+    - discover_resources
+    - gather_metadata
+    - evaluate_rules
+    - canonicalize
+    - snapshot_normalize
+    - emit_output
+  export_bundle_contract:
+    required_fields:
+    - metadata
+    - issues
+    - guardscore_inputs
+    - badge_preview
+    optional_fields:
+    - provenance
+    - remediation_hint_count
+    canonical_serialization: true
+    wasm_safe: true
+    prohibits:
+    - ui_state
+    - ephemeral_fields
+    - browser_local_paths
+  governance:
+    changelog_required: true
+    codeowners_required: true
+    rfc_required_for_major: true
+    template_sync_required: true
+    cross_pillar_invariants: true
+    breaking_change_policy: "Any evaluator pipeline modification, schema change, WASM\
+      \ sandbox rule change, UI-export contract change, or deterministic-hash modification\
+      \ requires:\n  - RFC approval\n  - guardsuite-core parity verification\n  -\
+      \ template/evaluator parity verification\n  - GuardBoard compatibility validation\n\
+      \  - updated Playground documentation & sample plans\n"
+  hashing_contract:
+    algorithm: SHA256
+    input: normalized_payload(strip_diagnostics=true)
+    output_encoding: hex_lowercase
+    canonical_json_utf8: true
+    fixed64_required: true
+    wasm_safe: true
+    prohibits:
+    - noncanonical_fields
+    - local_time
+    - diagnostics_inside_hash
+    - unstable_key_ordering
+    - float_differences_across_runtimes
+    guarantees:
+    - python_wasm_native_parity: true
+    - byte_for_byte_stability: true
+  integration_points:
+    products_consuming:
+    - guardboard
+    - guardscore
+    - vectorscan
+    - computeguard
+    playground:
+      quick_score_mode_supported: true
+      exposes_fixpack_hints: true
+  long_description: 'GuardSuite Playground is the browser-executed evaluator sandbox
+    for demos,
+
+    documentation, AI walkthroughs, and GuardScore previews. All evaluations run
+
+    under WASI-constrained WASM with fixed_64 numeric handling, timestamp
+
+    normalization, deterministic snapshot rules, and canonical JSON output.
+
+    Playground mirrors the authoritative evaluator pipeline, ensuring
+
+    cross-runtime parity with Python, WASM, and native-ABI environments.
+
+    It provides badge previews, GuardScore inputs, shareable URLs, deterministic
+
+    sample plans, and exportable canonical bundles for GuardBoard and Architect.
+
+    '
+  metadata:
+    created: '2025-11-18'
+    updated: '2026-03-10'
+    owner: GuardSuite Platform Team
+    maintainers:
+    - name: Deon Prinsloo
+      role: AI Solutions Architect
+      contact: deon@shieldcraft-ai.com
+    funnel_stage: top_of_funnel
+    pricing_reference: pricing/guardsuite_pricing.yml
+    ux_goals:
+    - deterministic outputs
+    - zero-install onboarding
+    - exportable badge-ready JSON
+    - GuardScore preview compatibility
+  performance_constraints:
+    max_memory_mb: 192
+    expected_runtime_ms: 600
+    wasm_runtime_ms: 750
+    quickscore_threshold_resources: 200
+    realtime_refresh_interval_ms: 60000
+  pillar: crosscut
+  playground_stage_budgets:
+    sample_plan_load_ms: 80
+    evaluator_init_ms: 100
+    rule_eval_ms: 250
+    badge_calc_ms: 120
+    canonicalize_output_ms: 80
+    export_payload_ms: 50
+  principles:
   - schema_first: true
   - wasm_safe: true
   - determinism_required: true
@@ -95,27 +185,124 @@   - browser_sandbox_required: true
   - deterministic_demo_data: true
   - provenance_optional_but_normalized: true
-
-# ============================================================
-# AUTHORITATIVE PIPELINE STAGE ORDERING (NEW)
-# ============================================================
-evaluator_pipeline_stages:
-  source_of_truth: guardsuite-core
-  enforce_stage_ordering: true
-  required_stages:
-    - load_profile
-    - initialize_context
-    - discover_resources
-    - gather_metadata
-    - evaluate_rules
-    - canonicalize
-    - snapshot_normalize
-    - emit_output
-
-# ============================================================
-# WASM FORBIDDEN OPERATIONS (NEW)
-# ============================================================
-wasm_forbidden_operations:
+  product_type: core
+  product_version: 2.1.0
+  provenance:
+    required: false
+    deterministic_timestamps: true
+    wasm_safe: true
+    included_in_exports: true
+    fields_if_present:
+    - producer
+    - producer_version
+    - artifact_id
+    - created_at_utc
+    - signature (optional)
+    rules:
+      missing_provenance_behavior: allow
+      malformed_provenance: normalize_and_warn
+  provenance_required: false
+  purpose_summary: 'Provide a zero-install, WASM-safe deterministic evaluator for
+    demos, documentation flows, customer onboarding, and AI-powered product education.
+
+    '
+  quickscore_behavior:
+    enabled: true
+    deterministic: true
+    rules:
+    - never bypass canonical evaluator stages
+    - issue suppression must be stable and documented
+    - deterministic fallback required if optimization disabled
+  references:
+  - docs/guardsuite_master_spec.md
+  - templates/spec_page.md.j2
+  - schemas/playground/playground.schema.yml
+  - guardsuite-core/canonical_schema.json
+  - guardsuite-template/spec.yml
+  release_metadata:
+    release_channel: stable
+    release_notes_url: https://shieldcraft-ai.com/guardsuite/playground/releases/2.1.0
+    published_date: '2026-03-10'
+  sample_plan_schema:
+    path: schemas/playground/sample_plan.schema.yml
+    required_fields:
+    - resources[]
+    - metadata
+    - inputs
+    wasm_safe: true
+    deterministic_defaults: true
+    prohibited_fields:
+    - timestamps_local
+    - host_paths
+  security:
+    no_external_calls_at_runtime: true
+    sanitize_all_inputs: true
+    svg_sanitization: true
+    wasm_compatible: true
+    sandbox_requirement: 'Playground must run entirely in a WASM sandbox with zero
+      host privileges.
+
+      '
+    safe_error_reporting: true
+    deterministic_isolation: true
+    forbidden_overrides_enforced: true
+    browser_local_storage_behavior:
+      deterministic_cache_allowed: false
+      session_storage_allowed: true
+      sensitive_data_prohibited: true
+  short_description: 'Browser-based deterministic evaluator and GuardScore preview
+    environment, executed entirely inside a WASM sandbox with canonical GuardSuite
+    pipelines.
+
+    '
+  spec_version: '2026.04'
+  stability_level: ga
+  telemetry_redaction:
+    enabled: true
+    redacted_fields:
+    - resource_id
+    - tenant_id
+    - secrets
+    - tokens
+    - code_snippets_raw
+    minimized_payloads: true
+    prohibits:
+    - user_pasted_content_upload
+    - environment_leakage
+    wasm_safe: true
+  testing:
+    unit_tests_required: true
+    integration_tests_required: true
+    wasm_conformance_required: true
+    snapshot_schema_test: true
+    snapshot_determinism: true
+    test_coverage_min_percent: 80
+    ci_jobs:
+    - validate_schema
+    - unit
+    - integration
+    - wasm_conformance
+    - snapshot_conformance
+  ui_flags:
+    allow:
+    - canonical_json
+    - badge_preview
+    - guardscore_preview
+    forbid:
+    - custom_plugins
+    - network_calls
+    - user_uploaded_binaries
+    - arbitrary_javascript
+  versioning:
+    semver: true
+    core_dependency_pin: guardsuite-core@>=2.3.0
+    schema_version_pin: playground.schema@>=1.1.0
+    compatibility_window_months: 12
+    breaking_change_policy: "Any evaluator pipeline, schema, normalized output, or\
+      \ export contract change requires:\n  - schema bump\n  - GuardBoard compatibility\
+      \ validation\n  - downstream consumer testing\n  - updated documentation & sample\
+      \ plans\n"
+  wasm_forbidden_operations:
   - randomness
   - system_time
   - locale
@@ -123,266 +310,3 @@   - environment_variable_access
   - network_access
   - dynamic_imports
-
-# ============================================================
-# HASHING CONTRACT (NEW — aligned with DET-001)
-# ============================================================
-hashing_contract:
-  algorithm: SHA256
-  input: normalized_payload(strip_diagnostics=true)
-  output_encoding: hex_lowercase
-  canonical_json_utf8: true
-  fixed64_required: true
-  wasm_safe: true
-  prohibits:
-    - noncanonical_fields
-    - local_time
-    - diagnostics_inside_hash
-    - unstable_key_ordering
-    - float_differences_across_runtimes
-  guarantees:
-    - python_wasm_native_parity: true
-    - byte_for_byte_stability: true
-
-# ============================================================
-# PROVENANCE (NEW — clarifies optional behavior)
-# ============================================================
-provenance:
-  required: false
-  deterministic_timestamps: true
-  wasm_safe: true
-  included_in_exports: true
-  fields_if_present:
-    - producer
-    - producer_version
-    - artifact_id
-    - created_at_utc
-    - signature (optional)
-  rules:
-    missing_provenance_behavior: allow
-    malformed_provenance: normalize_and_warn
-
-# ============================================================
-# EXPORT BUNDLE CONTRACT (NEW)
-# ============================================================
-export_bundle_contract:
-  required_fields:
-    - metadata
-    - issues
-    - guardscore_inputs
-    - badge_preview
-  optional_fields:
-    - provenance
-    - remediation_hint_count
-  canonical_serialization: true
-  wasm_safe: true
-  prohibits:
-    - ui_state
-    - ephemeral_fields
-    - browser_local_paths
-
-# ============================================================
-# SAMPLE PLAN SCHEMA (NEW)
-# ============================================================
-sample_plan_schema:
-  path: schemas/playground/sample_plan.schema.yml
-  required_fields:
-    - resources[]
-    - metadata
-    - inputs
-  wasm_safe: true
-  deterministic_defaults: true
-  prohibited_fields:
-    - timestamps_local
-    - host_paths
-
-# ============================================================
-# UI FLAG CONSTRAINTS (NEW)
-# ============================================================
-ui_flags:
-  allow:
-    - canonical_json
-    - badge_preview
-    - guardscore_preview
-  forbid:
-    - custom_plugins
-    - network_calls
-    - user_uploaded_binaries
-    - arbitrary_javascript
-
-# ============================================================
-# READ-ONLY API GUARANTEE (NEW)
-# ============================================================
-api_readonly_guarantee:
-  read_only: true
-  forbids:
-    - write_operations
-    - destructive_actions
-    - stateful_session_modification
-  allowed:
-    - evaluate
-    - preview_badge
-    - export_bundle
-
-# ============================================================
-# QUICK SCORE MODE SEMANTICS (NEW)
-# ============================================================
-quickscore_behavior:
-  enabled: true
-  deterministic: true
-  rules:
-    - never bypass canonical evaluator stages
-    - issue suppression must be stable and documented
-    - deterministic fallback required if optimization disabled
-
-# ============================================================
-# TELEMETRY & REDACTION (NEW)
-# ============================================================
-telemetry_redaction:
-  enabled: true
-  redacted_fields:
-    - resource_id
-    - tenant_id
-    - secrets
-    - tokens
-    - code_snippets_raw
-  minimized_payloads: true
-  prohibits:
-    - user_pasted_content_upload
-    - environment_leakage
-  wasm_safe: true
-
-# ============================================================
-# PERFORMANCE
-# ============================================================
-performance_constraints:
-  max_memory_mb: 192
-  expected_runtime_ms: 600
-  wasm_runtime_ms: 750
-  quickscore_threshold_resources: 200
-  realtime_refresh_interval_ms: 60000
-
-playground_stage_budgets:
-  sample_plan_load_ms: 80
-  evaluator_init_ms: 100
-  rule_eval_ms: 250
-  badge_calc_ms: 120
-  canonicalize_output_ms: 80
-  export_payload_ms: 50
-
-# ============================================================
-# ECOSYSTEM INTEGRATIONS
-# ============================================================
-ecosystem_integrations:
-
-  guardscore:
-    pillar_weight: 0.20
-    severity_penalties:
-      critical: 40
-      high: 25
-      medium: 10
-      low: 2
-    provided_score_inputs:
-      - badge_preview_score
-      - sample_plan_issue_counts
-      - remediation_hint_count
-    badge_eligibility_signal: true
-
-  playground_self:
-    wasm_safe: true
-    json_sanitize: true
-    svg_sanitize: true
-    quick_score_mode: true
-    max_runtime_ms: 900
-    playground_latency_target_ms: 750
-
-  guardboard:
-    badge_preview_supported: true
-    exposes_fixpack_hints: true
-    shows_compliance_ledger: false
-
-# ============================================================
-# TESTING & CI
-# ============================================================
-testing:
-  unit_tests_required: true
-  integration_tests_required: true
-  wasm_conformance_required: true
-  snapshot_schema_test: true
-  snapshot_determinism: true
-  test_coverage_min_percent: 80
-
-  ci_jobs:
-    - validate_schema
-    - unit
-    - integration
-    - wasm_conformance
-    - snapshot_conformance
-
-# ============================================================
-# VERSIONING
-# ============================================================
-versioning:
-  semver: true
-  core_dependency_pin: "guardsuite-core@>=2.3.0"
-  schema_version_pin: "playground.schema@>=1.1.0"
-  compatibility_window_months: 12
-  breaking_change_policy: >
-    Any evaluator pipeline, schema, normalized output, or export
-    contract change requires:
-      - schema bump
-      - GuardBoard compatibility validation
-      - downstream consumer testing
-      - updated documentation & sample plans
-
-# ============================================================
-# SECURITY
-# ============================================================
-security:
-  no_external_calls_at_runtime: true
-  sanitize_all_inputs: true
-  svg_sanitization: true
-  wasm_compatible: true
-  sandbox_requirement: >
-    Playground must run entirely in a WASM sandbox with zero host privileges.
-  safe_error_reporting: true
-  deterministic_isolation: true
-  forbidden_overrides_enforced: true
-  browser_local_storage_behavior:
-    deterministic_cache_allowed: false
-    session_storage_allowed: true
-    sensitive_data_prohibited: true
-
-# ============================================================
-# RELEASE & REFERENCES
-# ============================================================
-release_metadata:
-  release_channel: stable
-  release_notes_url: "https://shieldcraft-ai.com/guardsuite/playground/releases/2.1.0"
-  published_date: "2026-03-10"
-
-references:
-  - "docs/guardsuite_master_spec.md"
-  - "templates/spec_page.md.j2"
-  - "schemas/playground/playground.schema.yml"
-  - "guardsuite-core/canonical_schema.json"
-  - "guardsuite-template/spec.yml"
-
-api:
-  rest_endpoint: "https://playground.shieldcraft-ai.com/api"
-  auth: "GuardSuite session token"
-  deterministic_responses_required: true
-  rate_limits:
-    max_request_bytes: 2_000_000
-    timeout_ms: 3000
-
-integration_points:
-  products_consuming:
-    - guardboard
-    - guardscore
-    - vectorscan
-    - computeguard
-
-  playground:
-    quick_score_mode_supported: true
-    exposes_fixpack_hints: true
