checklist:
  version: 2026.04
  product: pipelineguard
  pillar: pipeline

  phases:

  # ============================================================
  # 1. INITIALIZATION & BLUEPRINT SETUP
  # ============================================================
  - phase: initialization
    items:
      - INIT-001: load_spec_and_validate_yaml_structure
      - INIT-002: ensure_required_sections_present
      - INIT-003: verify_spec_version_matches_release_metadata
      - INIT-004: enforce_forbidden_overrides_declared
      - INIT-005: validate_core_dependency_pin(guardsuite-core>=2.4.0)
      - INIT-006: validate_schema_version_pin(canonical_schema>=2.0.0)
      - INIT-007: enforce_compatibility_window(12_months)
      - INIT-008: validate_blueprint_inheritance(pipelinescan>=2.0)
      - INIT-009: load_template_spec_and_validate_sync
      - INIT-010: detect_template_core_drift
      - INIT-011: ensure_checklist_schema_valid
      - INIT-012: detect_checklist_drift_against_spec

  # ============================================================
  # 2. SCHEMA, FRAGMENTS & CANONICALIZATION
  # ============================================================
  - phase: schema_validation
    items:
      - SCHEMA-001: validate_canonical_schema_json
      - SCHEMA-002: validate_pipelineguard_schema_extends_core_schema
      - SCHEMA-003: detect_duplicate_field_definitions
      - SCHEMA-004: validate_stable_schema_bundle_ordering
      - SCHEMA-005: compute_schema_bundle_hash_and_store
      - SCHEMA-006: validate_schema_version_pin_resolves_correctly
      - SCHEMA-007: validate_input_canonicalization_rules_apply
      - SCHEMA-008: enforce_key_ordering_in_all_outputs
      - SCHEMA-009: validate_timestamp_normalization_utc_z
      - SCHEMA-010: validate_fixed_64_numeric_semantics
      - SCHEMA-011: ensure_snapshot_normalization_rules_present(3_runs_identical)

  # ============================================================
  # 3. GOVERNANCE & OVERRIDE PROTECTION
  # ============================================================
  - phase: governance_enforcement
    items:
      - GOV-001: enforce_changelog_required
      - GOV-002: enforce_codeowners_required
      - GOV-003: enforce_rfc_required_for_major
      - GOV-004: validate_governance_domains_declared
      - GOV-005: validate_rule_categories_declared
      - GOV-006: validate_forbidden_overrides_list
      - GOV-007: static_analysis_forbidden_override_detection
      - GOV-008: enforce_breaking_change_policy_structure

  # ============================================================
  # 4. EVALUATOR PIPELINE CONTRACT
  # ============================================================
  - phase: evaluator_pipeline
    items:
      - PIPE-001: load_template_pipeline_definition
      - PIPE-002: validate_stage_order_matches_template
      - PIPE-003: enforce_no_randomness_or_local_time
      - PIPE-004: enforce_no_env_based_branching
      - PIPE-005: enforce_canonical_json_utf8_output
      - PIPE-006: validate_snapshot_normalization_determinism
      - PIPE-007: evaluator_determinism_test_across_3_runs
      - PIPE-008: evaluator_parity_test(x86_arm_wasm)
      - PIPE-009: provenance_validation_in_pipeline_evaluator
      - PIPE-010: rule_engine_contract_validation
      - PIPE-011: drift_detection_behavior_test

  # ============================================================
  # 5. FIXPACK-LITE REMEDIATION
  # ============================================================
  - phase: fixpack_lite
    items:
      - FX-001: validate_fixpack_folder_structure
      - FX-002: validate_snippet_count(10)
      - FX-003: ensure_snippet_deterministic_ordering
      - FX-004: validate_fixpack_signature_chain
      - FX-005: validate_fixpack_metadata_schema
      - FX-006: provenance_required_for_all_snippets
      - FX-007: wasm_safe_snippets_required
      - FX-008: validate_fixpack_hint_format
      - FX-009: validate_fixpack_registry_state_for_guardscore_inputs

  # ============================================================
  # 6. COMPLIANCE LEDGER
  # ============================================================
  - phase: compliance_ledger
    items:
      - LEDGER-001: validate_ledger_schema_version(1.0.1)
      - LEDGER-002: enforce_hash_chain_required
      - LEDGER-003: enforce_provenance_links
      - LEDGER-004: enforce_canonical_ledger_entry_order
      - LEDGER-005: validate_deterministic_timestamps
      - LEDGER-006: validate_ledger_index_monotonic
      - LEDGER-007: validate_shard_partition_consistency
      - LEDGER-008: enforce_canonical_json_utf8_serialization
      - LEDGER-009: compliance_ledger_parity_test(x86_arm_wasm)
      - LEDGER-010: validate_fixpack_entries_recorded_in_ledger

  # ============================================================
  # 7. CLI HARNESS CONTRACT
  # ============================================================
  - phase: cli
    items:
      - CLI-001: validate_cli_entrypoints
      - CLI-002: validate_scan_command_present
      - CLI-003: ensure_supported_flags_match_spec
      - CLI-004: ensure_reserved_flags_enforced
      - CLI-005: validate_machine_parseable_help_output
      - CLI-006: enforce_canonical_error_output
      - CLI-007: validate_cli_under_wasm
      - CLI-008: cli_parity_test(x86_arm_wasm)
      - CLI-009: validate_invalid_flag_error_schema
      - CLI-010: enforce_cli_sandbox_filesystem_rules

  # ============================================================
  # 8. PERFORMANCE BUDGETS
  # ============================================================
  - phase: performance
    items:
      - PERF-001: enforce_max_memory_mb(230)
      - PERF-002: validate_expected_runtime(650ms)
      - PERF-003: validate_large_plan_runtime(1500ms)
      - PERF-004: validate_playground_runtime(1800ms)
      - PERF-005: enforce_stage_budget(discover_ci_sources_ms=200)
      - PERF-006: enforce_stage_budget(provenance_verification_ms=250)
      - PERF-007: enforce_stage_budget(permission_graph_build_ms=150)
      - PERF-008: enforce_stage_budget(evaluate_rules_ms=300)
      - PERF-009: enforce_stage_budget(remediation_synthesis_ms=150)
      - PERF-010: enforce_stage_budget(canonicalize_output_ms=150)
      - PERF-011: enforce_stage_budget(ledger_write_ms=120)

  # ============================================================
  # 9. ECOSYSTEM INTEGRATIONS
  # ============================================================
  - phase: integrations
    items:
      - INTEG-001: validate_guardscore_inputs_exist
      - INTEG-002: validate_penalty_map_structure
      - INTEG-003: validate_badge_eligibility_signal
      - INTEG-004: validate_playground_wasm_safe
      - INTEG-005: validate_guardboard_compliance_ledger_visibility
      - INTEG-006: validate_provenance_chain_insights_enabled
      - INTEG-007: validate_guardboard_overlays_consistency
      - INTEG-008: validate_penalty_values_consistency_with_guardscore

  # ============================================================
  # 10. SECURITY & SANDBOXING
  # ============================================================
  - phase: security
    items:
      - SEC-001: enforce_no_external_calls
      - SEC-002: enforce_sanitize_all_inputs
      - SEC-003: enforce_svg_sanitization
      - SEC-004: enforce_wasm_compatibility
      - SEC-005: ensure_wasi_sandbox_requirement_met
      - SEC-006: validate_safe_error_reporting
      - SEC-007: test_for_forbidden_override_attempts
      - SEC-008: validate_no_nondeterministic_io
      - SEC-009: validate_identity_spoofing_protections

  # ============================================================
  # 11. TESTING & CI
  # ============================================================
  - phase: testing_ci
    items:
      - TEST-001: run_unit_tests
      - TEST-002: run_integration_tests
      - TEST-003: run_snapshot_schema_tests
      - TEST-004: run_parity_tests
      - TEST-005: run_wasm_conformance_tests
      - TEST-006: run_evaluator_determinism_tests
      - TEST-007: enforce_test_coverage(>=85)
      - TEST-008: validate_ci_jobs_match_spec
      - TEST-009: enforce_ci_matrix(x86_64,arm64)
      - TEST-010: validate_checklist_schema_valid
      - TEST-011: detect_checklist_drift_against_spec

  # ============================================================
  # 12. ACCEPTANCE CRITERIA
  # ============================================================
  - phase: acceptance
    items:
      - ACPT-001: verify_all_canonical_schemas_pass
      - ACPT-002: verify_provenance_enforced_and_hash_valid
      - ACPT-003: verify_fixpack_signature_chain_passes
      - ACPT-004: verify_snapshot_determinism_3_run_hash_match
      - ACPT-005: verify_evaluator_pipeline_invariants
      - ACPT-006: verify_cli_and_api_output_match_contracts
      - ACPT-007: verify_guardscore_inputs_populated
      - ACPT-008: verify_wasm_conformance_end_to_end
      - ACPT-009: verify_all_deliverables_exist
      - ACPT-010: validate_all_deliverables_against_spec
