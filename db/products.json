{
  "guardsuite-specs": {
    "audit_history": [
      {
        "feedback_contract": "#FEEDBACK_CONTRACT v1\nstatus: done",
        "summary": "Playground badge preview ok",
        "task_id": "TASK-123"
      }
    ],
    "checklist_yaml": "---\nmetadata:\n  checklist_version: \"2025.11\"\n  product_id: guard-specs\n  description: >\n    GuardSpecs release-readiness checklist to ensure canonical specs, bootstraps,\n    and CI automation stay in sync.\nstates:\n  allowed:\n    - todo\n    - in_progress\n    - done\nphases:\n  - id: phase-plan\n    name: Planning\n    description: Stabilize canonical metadata and pipelines.\n  - id: phase-release\n    name: Release\n    description: Ship deterministic artifacts and CI wiring.\nitems:\n  - id: gs-checklist-spec\n    phase: phase-plan\n    title: Maintain canonical product spec + checklist\n    description: Specs + checklists live in repo, validated each commit.\n    status: done\n    acceptance_criteria:\n      - Spec + checklist stored under products/ and validated via schema script.\n      - Maintainers + owner metadata defined for GuardSpecs.\n  - id: gs-checklist-bootstrap\n    phase: phase-release\n    title: Publish deterministic bootstrap artifacts\n    description: Bootstrap generator emits stable hashes captured in CI.\n    status: in_progress\n    acceptance_criteria:\n      - CLI bootstrap command produces artifact with stable version hash.\n      - Scheduler + CI endpoints confirm latest artifact stored.\n  - id: gs-checklist-ci\n    phase: phase-release\n    title: Keep CI validation green\n    description: guard-specs-cli ci:validate/structural stay green before release.\n    status: in_progress\n    acceptance_criteria:\n      - ci:validate returns valid true for guard-specs entry.\n      - Structural check reports no YAML parse errors.\n",
    "gpt_instructions_yaml": "product: guard-specs\ntimestamp: \"2025-11-24T00:00:00Z\"\nversion: \"instruction-bootstrap\"\nspec: |\n  Provide Architect + CI operators with deterministic bootstrap + validation instructions.\nchecklist: |\n  - Run guard-specs-cli ci:validate and ensure success.\n  - Regenerate bootstrap and capture new hash if metadata changed.\n  - Store all outputs in audit history for traceability.\ngpt_instructions: |\n  1. Load guard-specs metadata from db/products.json.\n  2. Execute schema + CI validators.\n  3. Publish bootstrap artifact hash + timestamp.\narchitect_session_state:\n  last_checklist_item: null\n  last_instruction_version: 0\n  last_implementor_status: null\nincomplete: false\nvalidation_errors: []\n",
    "long_description": "GuardSpecs is the metadata control plane for GuardSuite. It stores canonical specs, runs schema validation, produces deterministic bootstraps, and automates CI reporting.",
    "owner": "GuardSuite Platform Team",
    "short_description": "Canonical GuardSuite spec + checklist registry with deterministic bootstrap generation.",
    "spec_yaml": "---\n# yamllint disable rule:line-length\n# repos/guard-specs/spec.yml\n# GuardSuite - guard-specs Service Specification (replace existing)\n# Purpose: authoritative product spec & checklist store, validation engine,\n# bootstrap generator and governance control plane for the GuardSuite umbrella.\n\nid: guard-specs\nname: GuardSpecs\nproduct_type: platform_service\npillar: governance\nversion: \"1.0.0\"\nstatus: draft\nowner: GuardSuite Platform Team\nspec_yaml: products/guardsuite-specs.yml\nchecklist_yaml: db/products.json#guardsuite-specs.checklist_yaml\ngpt_instructions_yaml: db/products.json#guardsuite-specs.gpt_instructions_yaml\n\nshort_description: >\n  Canonical product spec + checklist registry with deterministic bootstrap generation\n  and master-spec aligned validation services for the GuardSuite ecosystem.\n\nlong_description: |\n  GuardSpecs (guard-specs) is the authoritative metadata and automation service for\n  every GuardSuite product. It stores canonical product specs, implements rigorous\n  schema validation, produces Architect-ready bootstrap artifacts, enforces\n  governance rules, and delivers automation hooks for Implementor-driven audits.\n  GuardSpecs is how GuardSuite maintains determinism, schema alignment, and\n  lifecycle governance across all pillars.\n\npurpose_summary: >\n  Provide a single source of truth for GuardSuite product metadata, checklists,\n  GPT instructions, and bootstrap artifacts with deterministic validation tooling.\n\nmaintainers:\n  - GuardSuite Platform Team\ncontact: platform@guardsuite.internal\nreference_docs:\n  - uploaded_draft: \"/data/guardsuite-specs.yml\"\n  - repo_relative_master_spec: \"../guard-specs/master_spec.yml\"\n  - usage_examples: \"docs/examples/guard-specs-usage.md\"\n\nfeatures:\n  - id: GSPEC-FEAT-001\n    title: \"Canonical Product Registry\"\n    summary: \"Stores specs, checklists, and GPT instructions with schema validation.\"\n    included: true\n  - id: GSPEC-FEAT-002\n    title: \"Deterministic Bootstrap Generator\"\n    summary: \"Produces Architect-ready bootstrap JSON with strict determinism.\"\n    included: true\n  - id: GSPEC-FEAT-003\n    title: \"Audit & Feedback Automation\"\n    summary: \"Integrates /ai-dev-report audits and ingests #FEEDBACK_CONTRACT webhooks.\"\n    included: true\n\ncontract_ref: null\n\nmetadata:\n  version: \"2025.11-guard-specs\"\n  funnel_stage: toplevel_funnel\n  pricing_reference: \"pricing/guardsuite_pricing.yml\"\n  ux_goals:\n    - \"Provide a deterministic bootstrap source-of-truth\"\n    - \"Expose easy-to-use API + CLI for Architect workflows\"\n    - \"Keep all GuardSuite specs/checklists validated\"\n\ngovernance:\n  spec_version: \"2025.11\"\n  last_reviewed: \"2025-11-24\"\n  owner: \"GuardSuite Platform PMO\"\n  stability_level: experimental\n\nrelated_products:\n  - computeguard\n  - computescan\n  - guardboard\n  - guardscore\n  - guardsuite-core\n  - pipelineguard\n  - pipelinescan\n  - playground\n  - vectorguard\n  - vectorscan\n\narchitecture:\n  schema_source: \"guardsuite-core/canonical_schema.json\"\n  required_interfaces:\n    - \"I_GuardSpecsAPI\"\n    - \"I_BootstrapGenerator\"\n    - \"I_ChecklistRegistry\"\n  canonical_contract: \"product_registry\"\n\nreferences:\n  canonical_schema: \"guardsuite-core/canonical_schema.json\"\n  documents:\n    - \"docs/examples/guard-specs-usage.md\"\n    - \"docs/products/guardscore.md\"\n\nmission:\n  - \"Serve as the canonical source-of-truth for all GuardSuite product specs and checklists.\"\n  - \"Provide validated, deterministic Architect bootstraps for Architect sessions.\"\n  - \"Enforce schema, versioning, and cross-project governance rules across the suite.\"\n  - \"Expose API/CLI for programmatic consumption and CI integration.\"\n\npurpose:\n  summary: >\n    guard-specs stores product spec YAMLs, product checklists, gpt-instructions,\n    generates versioned bootstrap artifacts (for Architect consumption), validates\n    specs/checklists against schemas, enforces versioning policy, and provides\n    governance hooks for the GuardSuite ecosystem.\n\nprinciples:\n  - \"Schema-first: all public interfaces are defined by schema files in /schemas.\"\n  - \"Determinism: bootstraps and validation results are reproducible.\"\n  - \"Thin-runtime: guard-specs is metadata + validation + generation; not a runtime product.\"\n  - \"Governance-first: changes that affect downstream pillars require explicit migration guides.\"\n\nscope:\n  responsibilities:\n    - authoritative storage of product specs and checklists\n    - bootstrap artifact generation (spec + checklist + gpt-instructions + metadata)\n    - schema validation service and schema registry\n    - API for product lookup, validation, and artifact retrieval\n    - periodic artifact regeneration (scheduler)\n    - webhooks for audit/scan results and repo feedback\n    - versioning & migration guide publishing\n  out_of_scope:\n    - product runtime behavior (belongs to concrete pillars)\n    - runtime auth/gateway (belongs to platform/gateway)\n    - enforcement of execution-level security in product code\n\ndata_model:\n  product:\n    fields:\n      - id: string\n      - name: string\n      - maintainers: list\n      - status: [draft, active, deprecated]\n      - spec_yaml: string (raw)\n      - checklist_yaml: string (raw)\n      - gpt_instructions_yaml: string (raw)\n      - bootstrap_version: string (short hash)\n      - schemas: list\n      - tags: list\n      - last_updated: timestamp\n      - validation_report: object\n  bootstrap_artifact:\n    fields:\n      - product_id\n      - timestamp\n      - version_hash\n      - artifact_json\n      - validation_errors\n      - incomplete (bool)\n\napi:\n  base_path: /api/v1\n  auth: token_bearer\n  roles:\n    - reader: can fetch specs and bootstraps\n    - writer: can create/update products\n    - ci: can call validate/generate endpoints\n    - admin: full access\n  endpoints:\n    - method: GET\n      path: /products\n      description: \"List products and high-level metadata (paginated).\"\n      response:\n        200:\n          products:\n            - id\n            - name\n            - version\n            - status\n    - method: POST\n      path: /products\n      description: \"Create a new product entry with spec/checklist/instructions.\"\n      auth: writer\n      request:\n        201:\n          id: string\n          spec_yaml: string\n          checklist_yaml: string\n          gpt_instructions_yaml: string\n    - method: GET\n      path: /products/{id}\n      description: \"Fetch full product record (metadata + spec + checklist + instructions).\"\n      auth: reader\n      response:\n        200:\n          product: object\n    - method: PATCH\n      path: /products/{id}\n      description: \"Update metadata and optionally replace spec/checklist/instructions.\"\n      auth: writer\n      request:\n        body:\n          spec_yaml: string?\n          checklist_yaml: string?\n          gpt_instructions_yaml: string?\n          status: string?\n      response:\n        200: {}\n    - method: POST\n      path: /products/{id}/validate\n      description: \"Run server-side validation (schema + master rules).\"\n      auth: ci\n      response:\n        200:\n          valid: boolean\n          validation_errors: []\n    - method: GET\n      path: /products/{id}/bootstrap\n      description: \"Return the latest bootstrap artifact JSON for Architect consumption.\"\n      auth: reader\n      query_params:\n        include_session_state:\n          type: boolean\n          default: false\n      response:\n        200:\n          bootstrap_json: string\n    - method: POST\n      path: /products/{id}/bootstrap/generate\n      description: \"Trigger re-generation of bootstrap artifact and return metadata.\"\n      auth: ci\n      response:\n        200:\n          product_id: string\n          version_hash: string\n          timestamp: string\n    - method: POST\n      path: /products/{id}/audit\n      description: \"Trigger an audit task instructing Implementor to run repo audit.\"\n      auth: writer\n      response:\n        202:\n          task_id: string\n    - method: POST\n      path: /webhooks/scan-result\n      description: \"Receive #FEEDBACK_CONTRACT payloads from Implementor/CI and update state.\"\n      security: webhook_secret\n      request:\n        body:\n          product_id: string\n          task_id: string\n          feedback_contract: string\n          summary: object\n      response:\n        200: {}\n\nbootstrap_generation:\n  algorithm:\n    - load: spec_yaml, checklist_yaml, gpt_instructions_yaml\n    - validate: run schema & master-spec checks\n    - compose:\n        product: id\n        timestamp: utc_iso\n        version: sha256(spec+checklist+instructions)[0:8]\n        spec: raw spec_yaml\n        checklist: raw checklist_yaml\n        gpt_instructions: raw gpt_instructions_yaml\n        session_state:\n          last_checklist_item: null\n          last_instruction_version: 0\n        validation_errors: []\n    - persist: artifact store + optional commit to repo path /bootstraps/<product>.json\n  storage:\n    - object_store: S3 (or equivalent)\n    - metadata_db: Postgres (product records)\n\nvalidation:\n  schema_registry:\n    - location: /schemas\n    - canonical_schemas:\n        - product_schema.yml\n        - checklist_schema.yml\n        - gpt_instructions_schema.yml\n        - bootstrap_schema.yml\n        - cli_output.json\n  validation_rules:\n    - required_fields_present\n    - no_secrets_allowed_in_specs\n    - checklist_has_acceptance_criteria\n    - ensure_checklist_ids_unique\n    - spec/checklist compatibility checks\n  feedback_contract:\n    - \"#FEEDBACK_CONTRACT is produced by Implementor and ingested by Architect via audit webhook\"\n\nversioning_policy:\n  - follow_semver: true\n  - breaking_changes_require: major\n  - schema_changes_require: minor_or_major (documented per-schema)\n  - downstream_pillars_must_pin_template_version: true\n  - migration_guides_required_for_major_versions: true\n\nresponsibility_matrix:\n  product_spec_storage: guard-specs\n  checklist_storage: guard-specs\n  bootstrap_generation: guard-specs\n  canonical_serializer: guardsuite-core (future)\n  evaluator_pipeline: concrete pillars / template\n  rule_bundles: concrete pillars\n  schemas: guard-specs (registry) / template (shared schemas)\n  determinism_contract: guard-specs (enforcement) + template (implementation)\n\nscheduler:\n  periodic_generation:\n    interval: PT15M\n    behavior: regenerate bootstraps for products with both spec & checklist\n  triggers:\n    - on_push_main: regenerate affected bootstraps\n    - manual_trigger: via API\n\ncli:\n  name: guard-specs-cli\n  commands:\n    - product:create\n    - product:update\n    - bootstrap:generate\n    - validate\n  output: JSON (for Architect paste)\n\nsecurity:\n  auth: bearer tokens\n  role_based_access: enforced\n  webhook_secret: required for incoming events\n  secrets_policy: specs must not contain secrets\n\nobservability:\n  metrics:\n    - products_count\n    - validation_failures\n    - bootstrap_generation_time\n    - api_error_rate\n  logs:\n    - structured JSON logs\n  alerting:\n    - validation_failure_rate > threshold\n\nintegration_points:\n  - guard-template (consumes template schemas + guidance)\n  - guardsuite-core (future primitives)\n  - implementor (Copilot/VSCode) via API & CLI\n  - CI pipelines\n\ntesting:\n  unit_tests:\n    - validate schema validators with good/bad samples\n    - bootstrap composer tests\n  integration_tests:\n    - product create \u2192 validate \u2192 generate bootstrap \u2192 artifact correctness\n  e2e:\n    - simulate Architect paste flow using CLI output\n\ngovernance_policies:\n  - product changes must include changelog fragment\n  - product spec authors must be listed in maintainers\n  - breaking spec/schema changes require migration guide\n  - guard-specs to publish deprecation warnings via metadata\n\ndeliverables:\n  - product_schema.yml\n  - checklist_schema.yml\n  - gpt_instructions_schema.yml\n  - bootstrap_schema.yml\n  - API OpenAPI spec (openapi.yaml)\n  - guard-specs-cli tool\n  - scheduler + periodic generator\n  - test-suite + CI workflows\n  - docs: \"How to author product spec/checklist/bootstrap\"\n\nacceptance_criteria:\n  - product create/validate/generate flows work end-to-end\n  - bootstrap artifacts are deterministic for identical inputs\n  - schema validation catches invalid specs\n  - migration guides exist for major schema changes\n  - role-based access is enforced for writes\n\nappendix:\n  uploaded_draft_reference: \"/data/guardsuite-specs.yml\"\n  notes: >\n    This file replaces the earlier guard-specs draft entirely. The uploaded draft is\n    preserved in session history at the path above for traceability.\n# yamllint enable rule:line-length\n",
    "version": "1.0.0"
  }
}
